knit_with_parameters("C:/Users/bkoo34/Dropbox (GaTech)/Work/Working/School/UA_2022/external/index.Rmd")
unlink("index_cache", recursive = TRUE)
tinytex::install_tinytex()
tinytex::install_tinytex()
xaringan:::inf_mr()
xaringan:::inf_mr()
poly
library(xaringanthemer)
library(sf)
library(tidyverse)
library(leaflet)
library(tmap)
library(kableExtra)
census <- sf::st_read("https://raw.githubusercontent.com/BonwooKoo/UrbanAnalytics2022/main/Lab/module_0/testdata.geojson")
marta <- sf::st_read("https://raw.githubusercontent.com/BonwooKoo/UrbanAnalytics2022/main/Lab/module_0/MARTA_Routes.geojson")
five_point <- sf::st_read("https://raw.githubusercontent.com/BonwooKoo/UrbanAnalytics2022/main/Lab/module_0/five_point.geojson") %>% st_transform(crs = 26967)
census %>% print()
census %>% st_geometry()
census[['geometry']][[1]]
census %>% st_coordinates()
library(tmap)
tmap_mode('view')
tm_shape(census) + tm_polygons(col="hhincome")
census %>%
select(county, hhincome) %>%
filter(county %in% c("Clayton County", "Fulton County")) %>%
group_by(county) %>%
summarise(count = n(),
med.income = median(hhincome, na.rm = TRUE))
fp.buffer <- suppressWarnings(five_point %>% st_buffer(dist = 10000))
# Visualization
census
leaflet(height=330, width="100%") %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addPolygons(data = census, weight=1, color="grey") %>%
addPolygons(data = fp.buffer, weight=1) %>%
addLegend("bottomright",
colors = c("blue", "grey"),
labels = c("five_point",
"poly"),
title="Legend")
# Changing CRS
(five_point <- five_point %>% st_transform(crs = 4326))
# Subsetting
census.subset <- census[five_point, , op = st_intersects]
census
census %>% st_filter(five_point %>% st_transform(crs = st_crs(census)), .predicate = st_intersects)
census %>% st_filter(five_point %>% st_transform(crs = st_crs(census)), st_intersects)
my_df
