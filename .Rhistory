library(tmap)
library(kableExtra)
nice_table <- function(df, height="150px"){
return(
df %>% kable() %>%
kable_styling(latex_options="scale_down", font_size=12) %>%
scroll_box(width = "100%", height = height)
)
}
library(xaringanthemer)
library(sf)
library(tidyverse)
library(leaflet)
library(tmap)
library(kableExtra)
knitr::include_graphics("mycloud.jpg")
knitr::include_graphics("https://datacarpentry.org/genomics-r-intro/fig/rstudio_session_4pane_layout.png")
(33 + 43) / 4
exp(2.3) # de-logging natural log
a <- 23 + 21
b <- pi # 3.141593...
a / b
```
xaringan:::inf_mr()
xaringan:::inf_mr()
tt <- function(h, m, s){
return(h*3600 + m*60 + s)
}
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav",
)
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav",
)
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav"
)
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav"
)
audf <- data.frame(au = au,
playtime = c(rep(tt(3,44,27),16), tt(1,54,02)))
tt <- function(h, m, s){
return(h*3600 + m*60 + s)
}
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav"
)
audf <- data.frame(au = au,
playtime = c(rep(tt(3,44,27),16), tt(1,54,02)))
length(au)
audf <- data.frame(au = au,
playtime = c(rep(tt(3,44,27),14), tt(1,54,02)))
audf
vd <- c(
tt(0,8,50)*5,
tt(0,8,50)*5,
tt(0,2,24)*5
)
vd
audf
vd <- c(
tt(0,8,50)*150,
tt(0,8,50)*150,
tt(0,2,24)*150
)
vd
sum(vd)
audf %>% summary
sum(audf$playtime)
vd
audf <- data.frame(au = au,
playtime = c(rep(tt(3,44,27),14), tt(1,54,02)),
vd = )
audf
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,44,27),14), tt(1,54,02)),
vd = )
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,44,27),14), tt(1,54,02)))
audf
# If 2nd vid, 4minute --------
sum(vid[1:2])
vid <- c(
tt(0,8,50)*150,
tt(0,8,50)*150,
tt(0,2,24)*150
)
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,44,27),14), tt(1,54,02)))
audf
# If 2nd vid, 4minute --------
sum(vid[1:2])
# If 2nd vid, 4minute --------
sum(vid[1:2], tt(0,4,7)*150)
cumsum(audf)
cumsum(audf$playtime_s)
# If 2nd vid, 4minute --------
sum(vid[1], tt(0,4,7)*150)
cumsum(audf$playtime_s)
audf$playtime_s > elapsed_time
# If 2nd vid, 4minute --------
elapsed_time <- sum(vid[1], tt(0,4,7)*150)
cumsum(audf$playtime_s)
cumsum(audf$playtime_s) > elapsed_time
# If 2nd vid, 4minute --------
vid_target <- sum(vid[1], tt(0,4,7)*150)
vid_target
cumsum(audf$playtime_s)
cumsum(audf$playtime_s) > vid_target
vid_target
# If 2nd vid, 4minute --------
vid_target <- sum(vid[1], tt(0,4,7)*150)
# If 2nd vid, 4minute --------
(vid_target <- sum(vid[1], tt(0,4,7)*150))
(audio_target <- cumsum(audf$playtime_s) > vid_target)
sum(audio_target)
nrow(audf)-sum(audio_target)
# If 2nd vid, 4minute --------
(vid_target <- sum(vid[1], tt(0,4,7)*150))
audio_target <- nrow(audf) - sum(cumsum(audf$playtime_s) > vid_target) + 1
(audio_target <- nrow(audf) - sum(cumsum(audf$playtime_s) > vid_target) + 1)
tt <- function(h, m, s){
return(h*3600 + m*60 + s)
}
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav"
)
vid <- c(
tt(0,8,50)*150,
tt(0,8,50)*150,
tt(0,2,24)*150
)
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,44,27),14), tt(1,54,02)))
audf
# If 2nd vid, 4minute --------
(vid_target <- sum(vid[1], tt(0,4,7)*150))
(audio_target <- nrow(audf) - sum(cumsum(audf$playtime_s) > vid_target) + 1)
vif
vid
79500 /60/60
13467/60/60
# If 2nd vid, 4minute --------
vid_target <- function(vid_n, h, m, s){
return(sum(vid[vid_n], tt(h,m,s)*150))
}
# If 2nd vid, 4minute --------
vid_target <- function(vid_n, h, m, s){
return(sum(vid[vid_n], tt(h,m,s)*150))
}
(audio_target <- nrow(audf) - sum(cumsum(audf$playtime_s) > vid_target(1,0,4,7)) + 1)
tt <- function(h, m, s){
return(h*3600 + m*60 + s)
}
au <- c(
"220815_0000.wav",
"220815_0001.wav",
"220815_0002.wav",
"220815_0003.wav",
"220816_0004.wav",
"220816_0005.wav",
"220816_0006.wav",
"220816_0007.wav",
"220816_0008.wav",
"220816_0009.wav",
"220816_0010.wav",
"220817_0011.wav",
"220817_0012.wav",
"220817_0013.wav",
"220817_0014.wav"
)
vid <- c(
tt(0,8,50)*150,
tt(0,8,50)*150,
tt(0,2,24)*150
)
library(tidyverse)
tt <- function(h, m, s){
return(h*3600 + m*60 + s)
}
tt <- function(h, m, s){
return(h*3600 + m*60 + s)
}
tt
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,22,27),14), tt(1,54,02)))
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,22,47),14), tt(1,54,02)))
vid <- c(
tt(0,8,50)*150,
tt(0,8,50)*150,
tt(0,2,24)*150
)
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,22,47),14), tt(1,54,02)))
audf
vid
audf
audf <- data.frame(au = au,
playtime_s = c(rep(tt(3,22,47),14), tt(1,54,02))) %>%
mutate(cumsum = cumsum(playtime_s))
audf
vid_target <- function(vid_n, h, m, s){
return(sum(vid[vid_n], tt(h,m,s)*150))
}
vid_target
1:1
# If 2nd vid, 4minute --------
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n], tt(h,m,s)*150))
}
vid_target(2, 0,3,2)
vid
# If 2nd vid, 4minute --------
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
vid_target(2, 0,2,2)
# If 2nd vid, 4 minute 7 second --------
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
(audio_target <- nrow(audf) - sum(cumsum(audf$playtime_s) > vid_target(2,0,4,7)) + 1)
audf$cumsum
vid_target
audf$cumsum
audf$cumsum > vid_target(2,0,4,7)
isFALSE(audf$cumsum > vid_target(2,0,4,7) + )
isFALSE(audf$cumsum > vid_target(2,0,4,7))
audf$cumsum > vid_target(2,0,4,7)
# If 2nd vid, 4 minute 7 second --------
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
(audio_target <- nrow(audf) - sum(audf$cumsum) > vid_target(2,0,4,7)) + 1)
audio_target <- nrow(audf) - sum(audf$cumsum) > vid_target(2,0,4,7) + 1
audio_target
audio_target <- nrow(audf) - sum(audf$cumsum) > vid_target(2,0,4,7)
audio_target
audf$cumsum
audf$cumsum > vid_target(2,0,4,7)
sum(audf$cumsum > vid_target(2,0,4,7))
nrow(audf)
nrow(audf) - sum(audf$cumsum > vid_target(2,0,4,7))
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target(2,0,4,7)) + 1
audio_target
# Target scene translated into real world's elapsed time
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
audit_target <- function(vid_n, h, m, s){
# Target scene translated into real world's elapsed time
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target(2,0,4,7)) + 1
}
audio_target
audf[1:audio_target-1,]
audf[1:audio_target-1,] %>% sum(.$cumsum)
audf[1:audio_target-1,] %>% with(sum(.$cumsum))
audf[1:audio_target-1,]
audf[1:audio_target-1,] %>% .$cumsum
sum(audf[1:audio_target-1,] %>% .$cumsum)
remaining_sec <- vid_target - elapsed_in_audio
remaining_sec
# where in that audio file does this scene exist?
elapsed_in_audio <- audf[1:audio_target-1,] %>% with(sum(.$cumsum))
remaining_sec <- vid_target - elapsed_in_audio
elapsed_in_audio
vid_target
vid_target <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
vid_time <- function(vid_n, h, m, s){
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
vid_target
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_time) + 1
audio_target
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_time) + 1
vid_time
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target) + 1
audio_target
# where in that audio file does this scene exist?
elapsed_in_audio <- audf[1:audio_target-1,] %>% with(sum(.$cumsum))
elapsed_in_audio
remaining_sec <- vid_target - elapsed_in_audio
remaining_sec
vid_target
elapsed_in_audio
remaining_sec <- vid_target - elapsed_in_audio
remaining_sec
elapsed_in_audio
vid_target
audio_target
audf[1:audio_target-1,]
vid_target
elapsed_in_audio
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1)
elapsed_in_audio
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
elapsed_in_audio
remaining_sec <- vid_target - elapsed_in_audio
remaining_sec
vid_time <- function(vid_n, h, m, s){
# Given the targetted scene in video file,
# This function returns the elapsed time in real world in second unit.
return(sum(vid[1:vid_n-1], tt(h,m,s)*150))
}
sec <- 7047
sec %/% 3600
h <- sec %/% 3600
h
h <- sec %/% 3600
(sec - h*3600)
(sec - h*3600) %/% 60
m <- (sec - h*3600) %/% 60
m
(sec - h*3600 - m*60)
sec_to_hms <- function(sec){
h <- sec %/% 3600
m <- (sec - h*3600) %/% 60
s <- sec - h*3600 - m*60
return(sprintf("h: %s, m: %s, s:%s", h, m, s))
}
sec_to_hms(7047)
sec_to_hms <- function(sec){
sec_to_hms <- function(sec){
h <- sec %/% 3600
m <- (sec - h*3600) %/% 60
s <- sec - h*3600 - m*60
return(sprintf("h:%s     m:%s     s:%s", h, m, s))
}
audit_target <- function(vid_n, h, m, s){
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target) + 1
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
remaining_sec <- vid_target - elapsed_in_audio
# seconds in h,m,s
return(sec_to_hms(remaining_sec))
}
audit_target(vid_n = 2,h = 0,m = 4, s= 7)
audit_target(vid_n = 2,h = 0,m = 4, s = 7)
audit_target <- function(vid_n, h, m, s){
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target) + 1
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
remaining_sec <- vid_target - elapsed_in_audio
# seconds in h,m,s
return(sec_to_hms(remaining_sec))
}
sec_to_hms <- function(sec){
# Given time in second, this function returns h:m:s format
h <- sec %/% 3600
m <- (sec - h*3600) %/% 60
s <- sec - h*3600 - m*60
return(sprintf("h:%s     m:%s     s:%s", h, m, s))
}
audit_target <- function(vid_n, h, m, s){
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target) + 1
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
remaining_sec <- vid_target - elapsed_in_audio
# seconds in h,m,s
return(sec_to_hms(remaining_sec))
}
audit_target(vid_n = 2, h = 0, m = 4, s = 7)
audio_target
audit_target <- function(vid_n, h, m, s){
# Given where in the video the scene we look for is,
# this function returns
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target) + 1
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
remaining_sec <- vid_target - elapsed_in_audio
# seconds in h,m,s
where_audio <- sec_to_hms(remaining_sec)
return(paste0("Audio File: %c -> ", audf$au[audio_target], " ",
where_audio))
}
audit_target(vid_n = 2, h = 0, m = 4, s = 7)
audit_target <- function(vid_n, h, m, s){
# Given where in the video the scene we look for is,
# this function returns
# Target scene translated into real world's elapsed time
vid_target <- vid_time(2,0,4,7)
# Which audio file does this scene exist?
audio_target <- nrow(audf) - sum(audf$cumsum > vid_target) + 1
# where in that audio file does this scene exist?
elapsed_in_audio <- audf %>% slice(audio_target-1) %>% pull(cumsum)
remaining_sec <- vid_target - elapsed_in_audio
# seconds in h,m,s
where_audio <- sec_to_hms(remaining_sec)
return(paste0("Audio File:", audf$au[audio_target], "    ",
where_audio))
}
audit_target(vid_n = 2, h = 0, m = 4, s = 7)
xaringan:::inf_mr()
getwd()
xaringan:::inf_mr()
xaringan:::inf_mr()
xaringan:::inf_mr()
